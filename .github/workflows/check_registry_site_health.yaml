# Check modules health on registry.latticeruntime.com
name: check-registry-site-health
on:
  schedule:
    - cron: "0,15,30,45 * * * *" # Runs every 15 minutes
  workflow_dispatch: # Allows manual triggering of the workflow if needed

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v6

      - name: Health check placeholder
        run: |
          echo "Registry health check"
          echo "Configure your monitoring infrastructure"
          # Uncomment and configure once registry is deployed:
          # curl -f https://registry.latticeruntime.com/health || exit 1

      # TODO: Configure status page integration
      # Example with Instatus:
      # - name: Run health check
      #   run: |
      #     ./.github/scripts/check_registry_site_health.sh
      #   env:
      #     INSTATUS_API_KEY: ${{ secrets.INSTATUS_API_KEY }}
      #     INSTATUS_PAGE_ID: ${{ secrets.INSTATUS_PAGE_ID }}
      #     INSTATUS_COMPONENT_ID: ${{ secrets.INSTATUS_COMPONENT_ID }}
